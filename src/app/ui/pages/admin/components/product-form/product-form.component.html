<div class="product-form__container">
  <h2>{{mode}}</h2>
  <form [formGroup]="createEditProductForm" (ngSubmit)="onSubmit()">
    <div class="name__control control-container">
      <div class="controls">
        <label class="lbl" for="name">Name</label>
        <input class="ipt" id="name" formControlName="name" type="text" />
      </div>
      <div
        class="errors-list"
        *ngIf="
          createEditProductForm.get('name')?.invalid &&
          (createEditProductForm.get('name')?.dirty ||
            createEditProductForm.get('name')?.touched)
        "
      >
        <span
          class="error-message"
          *ngIf="createEditProductForm.get('name')?.hasError('required')"
          >Name is required</span
        >
      </div>
    </div>
    <div class="description control-container">
      <div class="controls">
        <label class="lbl" for="description">Description</label>
        <input
          class="ipt"
          id="description"
          formControlName="description"
          type="text"
        />
      </div>
      <div
        class="errors-list"
        *ngIf="
          createEditProductForm.get('description')?.invalid &&
          (createEditProductForm.get('description')?.dirty ||
            createEditProductForm.get('description')?.touched)
        "
      >
        <span
          class="error-message"
          *ngIf="createEditProductForm.get('description')?.hasError('required')"
          >Description is required</span
        >
      </div>
    </div>
    <div class="category__control control-container">
      <div class="controls">
        <label class="lbl" for="category">Category</label>
        <!-- <input class="ipt" id="category" formControlName="category" type="text" /> -->
        <select class="ipt" formArrayName="category" name="category" id="category">
          <option [value]="" selected>---</option>
          <option *ngFor="let category of categoriesList" [value]="category">{{category}}</option>
        </select>
      </div>
      <div
        class="errors-list"
        *ngIf="
          createEditProductForm.get('category')?.invalid &&
          (createEditProductForm.get('category')?.dirty ||
            createEditProductForm.get('category')?.touched)
        "
      >
        <span
          class="error-message"
          *ngIf="createEditProductForm.get('category')?.hasError('required')"
          >Category is required</span
        >
      </div>
    </div>
    <div class="price__control control-container">
      <div class="controls">
        <label class="lbl" for="price">Price</label>
        <input class="ipt" id="price" formControlName="price" type="number" />
      </div>
      <div
        class="errors-list"
        *ngIf="
          createEditProductForm.get('price')?.invalid &&
          (createEditProductForm.get('price')?.dirty ||
            createEditProductForm.get('price')?.touched)
        "
      >
        <span
          class="error-message"
          *ngIf="createEditProductForm.get('price')?.hasError('required')"
          >Price is required</span
        >
      </div>
    </div>
    <div class="image__control control-container">
      <div class="controls">
        <label class="lbl" for="image">Image</label>
        <input class="ipt" id="image" formControlName="image" type="text" />
      </div>
      <div
        class="errors-list"
        *ngIf="
          createEditProductForm.get('image')?.invalid &&
          (createEditProductForm.get('image')?.dirty ||
            createEditProductForm.get('image')?.touched)
        "
      >
        <span
          class="error-message"
          *ngIf="createEditProductForm.get('image')?.hasError('required')"
          >Image is required</span
        >
      </div>
    </div>
    <button class="btn form-button">{{mode}}</button>
  </form>
</div>
